# Test Plan – RF License Management System

## Overview
This test plan outlines the testing approach for the RF License Management application based on the test cases documented in `TEST_CASES.md` and the Excel file `testcase_RF-License.xlsx`. It covers UI component tests, API endpoint tests, and integration flows.

## Scope
- **License Form UI** – validation, submission, edit mode.
- **License List & Filters** – pagination, status/region filters.
- **API Endpoints** – GET/POST for licenses, units, users, devices.
- **Error handling** – network failures, validation errors.

## Test Cases Mapping
| Test ID | Description | Source (Excel / MD) | Type | Expected Result |
|---------|-------------|---------------------|------|-----------------|
| TC-LIC-001 | View license list | MD (section 3) | Manual UI | List displayed with unit tree and license table. |
| TC-LIC-002 | Filter by status | MD (section 3) | Manual UI | Only licenses with selected status are shown. |
| TC-LIC-003 | Filter by unit | MD (section 3) | Manual UI | Licenses belonging to selected unit appear. |
| TC-LIC-004 | Search license | MD (section 3) | Manual UI | Search matches license, device name, IP, MAC, etc. |
| TC-LIC-005 | Create license (batch) | MD (section 3) | UI + API | New licenses created, status = "new". |
| TC-LIC-006 | View license details | MD (section 3) | UI | Modal shows all fields correctly. |
| TC-LIC-007 | Copy license key | MD (section 3) | UI | Clipboard receives license string. |
| TC-LIC-008 | Pagination | MD (section 3) | UI | Correct number of rows per page, total count displayed. |
| TC-API-001 | GET /api/licenses | MD (section 10) | API | 200 response with paginated list. |
| TC-API-002 | POST /api/ident (batch) | MD (section 10) | API | 200 response, creates requested quantity of licenses. |
| TC-API-003 | GET /api/units | MD (section 10) | API | 200 response with unit list. |
| TC-UNIT-001 … TC-UNIT-007 | Unit management flows | MD (section 1) | UI | CRUD operations succeed with proper validation. |
| TC-USER-001 … TC-USER-008 | User management flows | MD (section 2) | UI | CRUD, search, role‑based access work as expected. |
| TC-IDENT-001 … TC-IDENT-008 | Device identification flows | MD (section 5) | UI | Device list, filters, copy UID, token popovers work. |
| TC-AUTH-001 … TC-AUTH-007 | Authentication & Authorization | MD (section 6) | UI | Login, OTP, logout, middleware, role permissions, session timeout. |

## Automated Test Strategy
### Unit Tests (Jest + React Testing Library)
- `LicenseFormDialog` – field validation, MAC/IP regex, submit handling (implemented in `__tests__/license-form.test.tsx`).
- Utility functions (e.g., `trimOpt`) – edge cases.

### Integration / End‑to‑End Tests (Cypress)
- **Create License Flow** – open dialog, fill form, submit, verify API call and UI update.
- **Edit License Flow** – edit existing license, ensure license field is disabled, submit changes.
- **Filter & Search** – apply status/unit filters, search term, verify results.
- **Error Scenarios** – mock network failure, verify error toast/message.

## Manual Test Execution
1. Open the application at `/licenses`.
2. Follow each test case step as described in `TEST_CASES.md`.
3. Record results (Pass/Fail) and any observed defects.
4. Log screenshots for UI verification where applicable.

## Acceptance Criteria
- All test cases above are executed with documented results.
- No critical defects remain open.
- Automated test suite runs with ≥80% coverage for the license module.

## Reporting
- Use the provided `test-report.md` to capture pass/fail status, defect IDs, and notes.
- Attach screenshots for failed UI steps.

---
*Generated by Antigravity – test planning assistant.*
